<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø±Ø³Ø§Ø¦Ù„Ù‡</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-size: cover;
      background-position: center;
      font-family: 'Arial', sans-serif;
      text-align: center;
      color: white;
      position: relative;
      transition: background 1s ease-in-out;
      overflow: hidden;
    }
    
    /* Ø·Ø¨Ù‚Ø© ØªØ¸Ù„ÙŠÙ„ Ù„Ù„Ø®Ù„ÙÙŠØ© */
    .background-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(0, 0, 0, 0.4), rgba(255, 20, 147, 0.2));
      z-index: 1;
    }
    
    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
    .message-container {
      font-size: 28px;
      font-weight: bold;
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(255, 20, 147, 0.3));
      padding: 40px;
      border-radius: 20px;
      display: inline-block;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);
      min-width: 300px;
      max-width: 80%;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 182, 193, 0.5);
      box-shadow: 0 20px 60px rgba(255, 20, 147, 0.3);
      animation: messageGlow 3s ease-in-out infinite alternate;
      z-index: 10;
      position: relative;
      line-height: 1.4;
    }
    
    @keyframes messageGlow {
      0% {
        box-shadow: 0 20px 60px rgba(255, 20, 147, 0.3);
        transform: translateY(0);
      }
      100% {
        box-shadow: 0 25px 80px rgba(255, 20, 147, 0.5);
        transform: translateY(-5px);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨Ø© */
    .typing-cursor {
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
    .buttons-container {
      position: absolute;
      bottom: 40px;
      width: 90%;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      z-index: 10;
      flex-wrap: wrap;
    }
    
    .button {
      background: linear-gradient(45deg, #4CAF50, #45a049);
      border: none;
      color: white;
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
      font-weight: bold;
      position: relative;
      overflow: hidden;
    }
    
    .button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s;
    }
    
    .button:hover::before {
      left: 100%;
    }
    
    .button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(76, 175, 80, 0.5);
    }
    
    .button:active {
      transform: translateY(-2px);
    }
    
    /* Ø£Ø²Ø±Ø§Ø± Ø¥Ø¶Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
    .top-buttons {
      position: absolute;
      top: 20px;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 20;
    }
    
    .top-button {
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid #ff69b4;
      color: #ff69b4;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
      font-weight: bold;
    }
    
    .top-button:hover {
      background: #ff69b4;
      color: white;
      transform: scale(1.05);
    }
    
    /* Ù‚Ù„ÙˆØ¨ Ù…ØªØ­Ø±ÙƒØ© */
    .floating-heart {
      position: fixed;
      font-size: 25px;
      pointer-events: none;
      animation: floatUp 4s ease-out forwards;
      z-index: 1000;
    }
    
    @keyframes floatUp {
      0% {
        opacity: 1;
        transform: translateY(0) rotate(0deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: translateY(-150px) rotate(360deg) scale(1.8);
      }
    }
    
    /* Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© */
    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 2;
    }
    
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s infinite ease-in-out;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.5); }
    }
    
    /* Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ */
    .progress-bar {
      position: absolute;
      bottom: 120px;
      width: 80%;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      overflow: hidden;
      z-index: 10;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(45deg, #ff69b4, #ff1493);
      border-radius: 10px;
      transition: width 0.3s ease;
      animation: progressGlow 2s ease-in-out infinite alternate;
    }
    
    @keyframes progressGlow {
      0% { box-shadow: 0 0 10px rgba(255, 20, 147, 0.5); }
      100% { box-shadow: 0 0 20px rgba(255, 20, 147, 0.8); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0) translateY(0); }
      25% { transform: translateX(-8px) translateY(-8px); }
      50% { transform: translateX(8px) translateY(-8px); }
      75% { transform: translateX(-8px) translateY(8px); }
    }
    
    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .message-container {
        font-size: 22px;
        padding: 30px 20px;
        min-width: 90%;
      }
      .buttons-container {
        bottom: 20px;
        justify-content: center;
      }
      .button {
        padding: 12px 20px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- Ø·Ø¨Ù‚Ø© Ø§Ù„ØªØ¸Ù„ÙŠÙ„ -->
  <div class="background-overlay"></div>
  
  <!-- Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
  <div class="stars" id="stars"></div>
  
  <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠØ© -->
  <div class="top-buttons">
    <button class="top-button" onclick="shareMessage()">Ù…Ø´Ø§Ø±ÙƒØ© ğŸ“¤</button>
    <button class="top-button" onclick="addToFavorites()">Ø§Ù„Ù…ÙØ¶Ù„Ø© â­</button>
    <button class="top-button" onclick="copyMessage()">Ù†Ø³Ø® ğŸ“‹</button>
  </div>
  
  <!-- Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <div class="message-container" id="message"></div>
  
  <!-- Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… -->
  <div class="progress-bar">
    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
  </div>
  
  <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ© -->
  <div class="buttons-container">
    <button class="button" onclick="refreshMessage()">Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ’–</button>
    <button class="button" onclick="autoPlay()">ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ â¯ï¸</button>
    <button class="button" onclick="sendLove()">Ø£Ø±Ø³Ù„  ğŸ’•</button>
    <button class="button" onclick="goBack()">Ø§Ù„Ø¹ÙˆØ¯Ø© ğŸ </button>
  </div>

  <script>
    let messagePool = [];
    let currentMessageIndex = 0;
    let isAutoPlaying = false;
    let autoPlayInterval;
    let favoriteMessages = [];
    let imagePool = [];

    // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
    try {
      const savedFavorites = localStorage.getItem('favoriteMessages');
      if (savedFavorites) favoriteMessages = JSON.parse(savedFavorites);
    } catch (e) {
      console.log('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø©');
    }

    const allMessages = [
      "Ø£Ù…Ø§Ù†ÙŠ Ø¥Ù†Ø³Ø§Ù†Ø© Ø·ÙŠØ¨Ø© Ø¬Ø¯Ù‹Ø§ ğŸŒ¸",
      "Ø§Ø³Ù…Ùƒ Ù…Ù…ÙŠØ² ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ âœ¨",
      "Ø£Ù…Ø§Ù†ÙŠ ØµØ§Ø­Ø¨Ø© Ø­Ø¶ÙˆØ± Ø¬Ù…ÙŠÙ„ ğŸŒº",
      "ÙƒÙ„Ø§Ù…Ùƒ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø±Ø§Ù‚ÙŠ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸŒ·",
      "Ø£Ù…Ø§Ù†ÙŠ Ø´Ø®ØµÙŠØ© Ø°ÙƒÙŠØ© ğŸ‘©â€ğŸ“",
      "Ø£Ø­Ø¨ Ø·Ø±ÙŠÙ‚ØªÙƒ ÙÙŠ Ø§Ù„ØªÙÙƒÙŠØ± ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ’¡",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¹Ù†Ø¯Ùƒ Ø£Ø³Ù„ÙˆØ¨ Ù…Ù…ÙŠØ² ğŸ“",
      "Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ù…ØªÙØ§Ø¦Ù„Ø© ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸŒˆ",
      "Ø£Ù…Ø§Ù†ÙŠ Ø´Ø®Øµ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„ÙŠÙ‡ ğŸ’ª",
      "Ø£ÙÙƒØ§Ø±Ùƒ Ø±Ø§Ø¦Ø¹Ø© ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ“š",
      "Ø£Ù…Ø§Ù†ÙŠ Ø´Ø®Øµ Ø¥ÙŠØ¬Ø§Ø¨ÙŠ ğŸŒ",
      "Ø§Ø³Ù… Ø£Ù…Ø§Ù†ÙŠ ÙŠØ¨Ø¹Ø« Ø·Ø§Ù‚Ø© Ø­Ù„ÙˆØ© ğŸŒŸ",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¹Ù†Ø¯Ùƒ Ø£Ø³Ù„ÙˆØ¨ Ø±Ø§Ù‚ÙŠ Ø¬Ø¯Ù‹Ø§ ğŸ€",
      "Ø£Ù†Øª Ù…Ù„Ù‡Ù…Ø© ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ•Š",
      "Ø£Ù…Ø§Ù†ÙŠ Ù…Ø«Ø§Ù„ Ù„Ù„Ø¬Ø¯ ÙˆØ§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯ ğŸ“",
      "Ø§Ø³Ù…Ùƒ ÙŠØ­Ù…Ù„ Ù…Ø¹Ù†Ù‰ Ø¬Ù…ÙŠÙ„ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸŒ¹",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¹Ù†Ø¯Ùƒ Ù„Ù…Ø³Ø© Ø®Ø§ØµØ© ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡ ğŸŒ¼",
      "Ø£Ø³Ù„ÙˆØ¨Ùƒ ÙŠØ®Ù„Ù‘ÙŠ Ø£ÙŠ Ù†Ù‚Ø§Ø´ Ù…Ù…ØªØ¹ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ¤",
      "Ø£Ù…Ø§Ù†ÙŠ Ø´Ø®ØµÙŠØ© Ù…Ø­ØªØ±Ù…Ø© ğŸ‘",
      "Ù…Ù† Ø§Ù„Ù†Ø§Ø³ Ø§Ù„Ù„ÙŠ ÙŠÙÙØªØ®Ø± Ø¨Ù…Ø¹Ø±ÙØªÙ‡Ù… ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ¤",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø³Ø§Ø·Ø© ÙˆØ§Ù„Ø±Ù‚ÙŠ ğŸŒº",
      "ØªÙˆØ§Ø¬Ø¯Ùƒ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙŠØ¶ÙŠÙ Ø¬Ùˆ Ø¬Ù…ÙŠÙ„ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸŒ",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¹Ù†Ø¯Ùƒ Ø·Ø§Ù‚Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ØªØ¨Ø¹Ø« Ø±Ø§Ø­Ø© ğŸŒ¸",
      "Ø§Ø³Ù…Ùƒ Ø¹Ù„Ù‰ Ù…Ø³Ù…Ø§Ù‡ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠØŒ Ø±Ø§Ø­Ø© ÙˆØ·Ù…Ø£Ù†ÙŠÙ†Ø© ğŸ•Š",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¥Ù†Ø³Ø§Ù†Ø© Ù„Ø·ÙŠÙØ© Ø¬Ø¯Ù‹Ø§ ğŸ’",
      "Ù…Ø¹Ù†Ù‰ Ø§Ø³Ù…Ùƒ ÙŠÙ„ÙŠÙ‚ Ø¨Ùƒ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸŒ·",
      "Ø£Ù…Ø§Ù†ÙŠ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¹Ù†Ø¯Ùƒ ÙÙƒØ± Ø¬Ø¯ÙŠØ¯ ğŸŒŸ",
      "Ø£Ù†Øª Ø´Ø®Øµ Ø¬Ø¯ÙŠØ± Ø¨Ø§Ù„Ø§Ø­ØªØ±Ø§Ù… ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ™Œ",
      "Ø£Ù…Ø§Ù†ÙŠ ØªØ¨Ø¹Ø«ÙŠ Ø·Ø§Ù‚Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© Ù„ÙƒÙ„ Ù…Ù† Ø­ÙˆÙ„Ùƒ ğŸŒˆ",
      "Ø³Ù‡Ù„ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ùƒ Ø¬Ø¯Ù‹Ø§ ÙŠØ§ Ø£Ù…Ø§Ù†ÙŠ ğŸ¤—"
    ];

    // Ø®Ù„Ø· Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    function shuffleMessages() {
      messagePool = [...allMessages];
      for (let i = messagePool.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [messagePool[i], messagePool[j]] = [messagePool[j], messagePool[i]];
      }
      currentMessageIndex = 0;
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
    function getNextMessage() {
      if (messagePool.length === 0) shuffleMessages();
      const message = messagePool[currentMessageIndex];
      currentMessageIndex = (currentMessageIndex + 1) % messagePool.length;
      updateProgressBar();
      return message;
    }

    // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
    function updateProgressBar() {
      const progress = (currentMessageIndex / messagePool.length) * 100;
      document.getElementById('progressFill').style.width = progress + '%';
    }

    // ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¢Ù„Ø© Ø§Ù„ÙƒØ§ØªØ¨Ø©
    function typeMessage(text, elementId) {
      let i = 0;
      let element = document.getElementById(elementId);
      element.innerHTML = "";
      
      function typing() {
        if (i < text.length) {
          element.innerHTML += text[i] === " " ? "&nbsp;" : text[i];
          i++;
          setTimeout(typing, 80);
        } else {
          // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
          element.innerHTML += '<span class="typing-cursor">|</span>';
          setTimeout(() => {
            const cursor = element.querySelector('.typing-cursor');
            if (cursor) cursor.remove();
          }, 2000);
        }
      }
      typing();
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ù„ÙˆØ¨ Ù…ØªØ­Ø±ÙƒØ©
    function createFloatingHearts(count = 8) {
      const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’', 'ğŸ’“', 'â¤ï¸', 'ğŸŒ¹', 'ğŸŒº'];
      
      for (let i = 0; i < count; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.classList.add('floating-heart');
          heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
          heart.style.left = Math.random() * window.innerWidth + 'px';
          heart.style.top = (window.innerHeight - 100) + 'px';
          heart.style.color = `hsl(${Math.random() * 60 + 300}, 70%, 60%)`;
          document.body.appendChild(heart);
          
          setTimeout(() => {
            if (document.body.contains(heart)) {
              document.body.removeChild(heart);
            }
          }, 4000);
        }, i * 200);
      }
    }

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¬ÙˆÙ…
    function createStars() {
      const starsContainer = document.getElementById('stars');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
      }
    }

    // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ±
    function getImagePool() {
      return imagePool;
    }

    function saveImagePool(pool) {
      imagePool = pool;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function getNextImageNumber() {
      let pool = getImagePool();
      if (pool.length === 0) {
        pool = Array.from({ length: 20 }, (_, i) => i + 1);
        shuffleArray(pool);
      }
      const nextImage = pool.pop();
      saveImagePool(pool);
      return nextImage;
    }

    function setRandomBackground() {
      const colors = [
        'linear-gradient(45deg, #ff6b6b, #ffd93d)',
        'linear-gradient(45deg, #74b9ff, #0984e3)',
        'linear-gradient(45deg, #fd79a8, #fdcb6e)',
        'linear-gradient(45deg, #6c5ce7, #a29bfe)',
        'linear-gradient(45deg, #00b894, #55efc4)',
        'linear-gradient(45deg, #e84393, #fd79a8)',
        'linear-gradient(45deg, #00cec9, #55efc4)'
      ];
      
      const randomColor = colors[Math.floor(Math.random() * colors.length)];
      document.body.style.background = randomColor;
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    function refreshMessage() {
      const newMessage = getNextMessage();
      // Ø­ÙØ¸ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙÙ‚Ø·
      typeMessage(newMessage, "message");
      setRandomBackground();
      createFloatingHearts(5);
    }

    // Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    function autoPlay() {
      const button = event.target;
      if (isAutoPlaying) {
        clearInterval(autoPlayInterval);
        isAutoPlaying = false;
        button.innerHTML = 'ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ â¯ï¸';
        button.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
      } else {
        isAutoPlaying = true;
        button.innerHTML = 'Ø¥ÙŠÙ‚Ø§Ù â¸ï¸';
        button.style.background = 'linear-gradient(45deg, #f44336, #d32f2f)';
        autoPlayInterval = setInterval(() => {
          refreshMessage();
        }, 5000);
      }
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø­Ø¨
    function sendLove() {
      createFloatingHearts(15);
      
      // ØªØ£Ø«ÙŠØ± Ø§Ù‡ØªØ²Ø§Ø²
      document.body.style.animation = 'shake 0.8s';
      setTimeout(() => {
        document.body.style.animation = '';
      }, 800);
      
      // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ù…Ø¤Ù‚ØªØ§Ù‹
      const overlay = document.querySelector('.background-overlay');
      const originalBg = overlay.style.background;
      overlay.style.background = 'linear-gradient(45deg, rgba(255, 20, 147, 0.6), rgba(255, 105, 180, 0.4))';
      setTimeout(() => {
        overlay.style.background = originalBg || 'linear-gradient(45deg, rgba(0, 0, 0, 0.4), rgba(255, 20, 147, 0.2))';
      }, 1000);
    }

    // Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    function shareMessage() {
      const message = document.getElementById('message').textContent;
      if (navigator.share) {
        navigator.share({
          title: 'Ø±Ø³Ø§Ù„Ø© Ø­Ø¨',
          text: message,
        }).catch(() => {
          copyMessage();
          alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©! ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø§Ù„Ø¢Ù† ğŸ’•');
        });
      } else {
        copyMessage();
        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©! ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ø±ÙƒØªÙ‡Ø§ Ø§Ù„Ø¢Ù† ğŸ’•');
      }
    }

    // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©
    function addToFavorites() {
      const message = document.getElementById('message').textContent;
      if (!favoriteMessages.includes(message)) {
        favoriteMessages.push(message);
        // Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙÙ‚Ø·
        alert('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…ÙØ¶Ù„Ø©! â­');
        createFloatingHearts(3);
      } else {
        alert('Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ø¨Ø§Ù„ÙØ¹Ù„! ğŸ’•');
      }
    }

    // Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    function copyMessage() {
      const message = document.getElementById('message').textContent;
      if (navigator.clipboard) {
        navigator.clipboard.writeText(message).then(() => {
          const button = event.target;
          const originalText = button.innerHTML;
          button.innerHTML = 'ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…';
          setTimeout(() => {
            button.innerHTML = originalText;
          }, 2000);
        }).catch(() => {
          fallbackCopyTextToClipboard(message);
        });
      } else {
        fallbackCopyTextToClipboard(message);
      }
    }

    // Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement("textarea");
      textArea.value = text;
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        document.execCommand('copy');
        alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©! ğŸ“‹');
      } catch (err) {
        console.error('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®', err);
      }
      document.body.removeChild(textArea);
    }

    // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
function goBack() {
  if (isAutoPlaying) {
    clearInterval(autoPlayInterval);
  }
  window.location.href = "index.html"; // Ø£Ùˆ Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
}


    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener("DOMContentLoaded", () => {
      const firstMessage = getNextMessage();
      typeMessage(firstMessage, "message");
      setRandomBackground();
      createStars();
      
      // ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© ÙƒÙ„ 15 Ø«Ø§Ù†ÙŠØ©
      setInterval(() => {
        if (!isAutoPlaying) {
          setRandomBackground();
        }
      }, 15000);
    });

    // Ø¥Ø¶Ø§ÙØ© Ø§Ø®ØªØµØ§Ø±Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­
    document.addEventListener('keydown', (e) => {
      switch(e.code) {
        case 'Space':
          e.preventDefault();
          refreshMessage();
          break;
        case 'KeyH':
          sendLove();
          break;
        case 'KeyF':
          addToFavorites();
          break;
        case 'KeyC':
          copyMessage();
          break;
        case 'Escape':
          goBack();
          break;
      }
    });

    // ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('message-container')) {
        createFloatingHearts(3);
      }
    });
  </script>
</body>
</html>